{% extends 'tracker/base.html' %}

{% block content %}
<div class="budget-container">
  <h2 class="budget-title">{{ action }} Budget</h2>

  {# Error block: display errors from all fields and non-field errors at the top #}
  {% if form.errors %}
    <div class="budget-error">
      {% for field in form %}
        {% if field.errors %}
          <p><strong>{{ field.label }}:</strong> {{ field.errors|join:", " }}</p>
        {% endif %}
      {% endfor %}
      {% for error in form.non_field_errors %}
        <p>{{ error }}</p>
      {% endfor %}
    </div>
  {% endif %}

  <form method="post" class="budget-form">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="budget-button">{{ action }} Budget</button>
  </form>
</div>
{% endblock %}
